<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>FutureKings Scholarships</title>
	<link rel="shortcut icon" href="/icons/fklogo.png" type="image/png">
	<link rel="manifest" href="/manifest.json">
	<style>
		* {
			box-sizing: border-box;
			margin: 0; padding: 0;
			text-decoration: none;
			outline: none;
		}
		body {
			width: 100vw; height: 100vh;
			background-color: #cccccc;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
		}
	</style>
	<script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
<span>
	<div id="g_id_onload"
		data-client_id="2587253159-l3mljeof06hdf61v3aaej64vu1rjmumf.apps.googleusercontent.com"
		data-context="signup"
		data-ux_mode="popup"
		data-callback="handleCred"
		data-nonce=""
		data-auto_prompt="false">
	</div>
	<div class="g_id_signin"
		data-type="standard"
		data-shape="pill"
		data-theme="outline"
		data-text="signin"
		data-size="large"
		data-logo_alignment="center"
		data-width="250">
	</div>
</span>
</body>
<script>
	var worker = undefined;
	if ('serviceWorker' in navigator){
		navigator.serviceWorker.register(`/sw.js`)
		.then(registration =>{
			worker = registration.active
			console.debug("SW Registered", registration);
		}).catch (err => {
			console.error("SW Registration Failed!", err);
		});
	} else {
		console.error("This app is not supported");
	}

	function handleCred(params) {
		var data = {
			type: 'login',
			data: params.credential
		}
		if (!worker) {return;}
		worker.postMessage(data);
	}
</script>
</html>